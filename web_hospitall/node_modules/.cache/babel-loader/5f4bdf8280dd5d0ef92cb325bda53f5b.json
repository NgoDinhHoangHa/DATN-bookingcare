{"remainingRequest":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\user\\Login.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\user\\Login.vue","mtime":1696609026815},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\babel.config.js","mtime":1696609011972},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696609014128},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js","mtime":1696609013865},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696609014128},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696609025699}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvT1MvT25lRHJpdmUgLSBVbml2ZXJzaXR5IG9mIFRlY2hub2xvZ3kgYW5kIEVkdWNhdGlvbi9EZXNrdG9wL0RBVE4tYm9va2luZ2NhcmUvd2ViX2hvc3BpdGFsbC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBSZXF1ZXN0IGZyb20gJ0AvUmVxdWVzdCc7CmltcG9ydCB7IG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY291bnQ6IHsKICAgICAgICBlbWFpbDogJycsCiAgICAgICAgcGFzc3dvcmQ6ICcnCiAgICAgIH0sCiAgICAgIG1lc3NhZ2VFcnJvcjoge30KICAgIH07CiAgfSwKICAvLyBjb21wdXRlZDp7CiAgLy8gICAgIC4uLm1hcFN0YXRlKFtVc2VyX2xvYWRdKQogIC8vIH0KICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbJ3NldHVzZXJMb2FkJywgJ3NldHVzZXInXSkpLCB7fSwgewogICAgTG9naW46IGZ1bmN0aW9uIExvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5tZXNzYWdlRXJyb3IgPSB7fTsKICAgICAgdGhpcy5zZXR1c2VyTG9hZCh0cnVlKTsKICAgICAgUmVxdWVzdC5Qb3N0KCcvdXNlci1sb2dpbicsIHRoaXMuYWNjb3VudCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuc2V0dXNlckxvYWQoZmFsc2UpOwoKICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ0stdXNlcicsIHJlcy5kYXRhLnRva2VuKTsKCiAgICAgICAgX3RoaXMuc2V0dXNlcihyZXMuZGF0YSk7CgogICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnVXNlcl9Ib21lJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgdmFyIF9lcnIkcmVzcG9uc2UkZGF0YSRlciwgX2VyciRyZXNwb25zZSRkYXRhJGVyMjsKCiAgICAgICAgX3RoaXMuc2V0dXNlckxvYWQoZmFsc2UpOwoKICAgICAgICBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PSA1MDApIHsKICAgICAgICAgIF90aGlzLnN0YXR1cyA9ICdLaMO0bmcgdGjhu4Mga+G6v3QgbuG7kWkgxJHhur9uIHNlcnZlcic7CiAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIF90aGlzLm1lc3NhZ2VFcnJvci5tZXMgPSBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgIF90aGlzLm1lc3NhZ2VFcnJvci5lbWFpbCA9IChfZXJyJHJlc3BvbnNlJGRhdGEkZXIgPSBlcnIucmVzcG9uc2UuZGF0YS5lcnJvcnMuZW1haWwpID09PSBudWxsIHx8IF9lcnIkcmVzcG9uc2UkZGF0YSRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2VyciRyZXNwb25zZSRkYXRhJGVyWzBdOwogICAgICAgIF90aGlzLm1lc3NhZ2VFcnJvci5wYXNzd29yZCA9IChfZXJyJHJlc3BvbnNlJGRhdGEkZXIyID0gZXJyLnJlc3BvbnNlLmRhdGEuZXJyb3JzLnBhc3N3b3JkKSA9PT0gbnVsbCB8fCBfZXJyJHJlc3BvbnNlJGRhdGEkZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZXJyJHJlc3BvbnNlJGRhdGEkZXIyWzBdOwogICAgICB9KTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"mappings":";AA4BA,OAAOA,OAAP,MAAoB,WAApB;AACA,SAASC,YAAT,QAA6B,MAA7B;AACA,eAAe;EACXC,IADW,kBACJ;IACH,OAAO;MACHC,OAAO,EAAE;QACLC,KAAK,EAAE,EADF;QAELC,QAAQ,EAAE;MAFL,CADN;MAKHC,YAAY,EAAE;IALX,CAAP;EAOH,CATU;EAUX;EACA;EACA;EACAC,OAAO,kCACAN,YAAY,CAAC,CAAC,aAAD,EAAgB,SAAhB,CAAD,CADZ;IAEHO,KAAK,EAAE,iBAAY;MAAA;;MACf,KAAKF,YAAL,GAAoB,EAApB;MACA,KAAKG,WAAL,CAAiB,IAAjB;MACAT,OAAO,CAACU,IAAR,CAAa,aAAb,EAA4B,KAAKP,OAAjC,EACKQ,IADL,CACU,UAACC,GAAD,EAAS;QACX,KAAI,CAACH,WAAL,CAAiB,KAAjB;;QACAI,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,QAA5B,EAAsCH,GAAG,CAACV,IAAJ,CAASc,KAA/C;;QACA,KAAI,CAACC,OAAL,CAAaL,GAAG,CAACV,IAAjB;;QACA,KAAI,CAACgB,OAAL,CAAaC,IAAb,CAAkB;UAAEC,IAAI,EAAE;QAAR,CAAlB;MACH,CANL,EAOKC,KAPL,CAOW,UAACC,GAAD,EAAS;QAAA;;QACZ,KAAI,CAACb,WAAL,CAAiB,KAAjB;;QACA,IAAIa,GAAG,CAACC,QAAJ,CAAaC,MAAb,IAAuB,GAA3B,EAAgC;UAC5B,KAAI,CAACA,MAAL,GAAc,8BAAd;UACA,KAAI,CAACC,OAAL,GAAe,KAAf;UACA;QACJ;;QACAC,OAAO,CAACC,GAAR,CAAYL,GAAZ;QACA,KAAI,CAAChB,YAAL,CAAkBsB,GAAlB,GAAwBN,GAAG,CAACC,QAAJ,CAAarB,IAAb,CAAkB2B,OAA1C;QACA,KAAI,CAACvB,YAAL,CAAkBF,KAAlB,4BAA0BkB,GAAG,CAACC,QAAJ,CAAarB,IAAb,CAAkB4B,MAAlB,CAAyB1B,KAAnD,0DAA0B,sBAAiC,CAAjC,CAA1B;QACA,KAAI,CAACE,YAAL,CAAkBD,QAAlB,6BAA6BiB,GAAG,CAACC,QAAJ,CAAarB,IAAb,CAAkB4B,MAAlB,CAAyBzB,QAAtD,2DAA6B,uBAAoC,CAApC,CAA7B;MACH,CAlBL;IAmBJ;EAxBG;AAbI,CAAf","names":["Request","mapMutations","data","account","email","password","messageError","methods","Login","setuserLoad","Post","then","res","window","localStorage","setItem","token","setuser","$router","push","name","catch","err","response","status","loading","console","log","mes","message","errors"],"sourceRoot":"","sources":["C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\user\\Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"login\" id=\"login\">\r\n        <div class=\"login__container\">\r\n            <h2>MH Care</h2>\r\n            <P style=\"color:red\">{{ messageError.mes }}</P>\r\n            <div>\r\n                <span class=\"bx bx-user\"></span>\r\n                <input :class=\"{ 'error': messageError.email }\" v-model=\"account.email\" type=\"text\"\r\n                    placeholder=\"Địa chỉ email\">\r\n                <p>{{ messageError.email }}</p>\r\n            </div>\r\n            <div>\r\n                <span class=\"bx bx-lock\"></span>\r\n                <input :class=\"{ 'error': messageError.password }\" v-model=\"account.password\" type=\"password\"\r\n                    placeholder=\"Mật khẩu\">\r\n                <p>{{ messageError.password }}</p>\r\n            </div>\r\n            <div>\r\n                <button @click=\"Login()\">Đăng nhập</button>\r\n            </div>\r\n            <p>\r\n                <router-link :to=\"{ name: 'Register' }\">Đăng ký</router-link>\r\n            </p>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Request from '@/Request'\r\nimport { mapMutations } from 'vuex'\r\nexport default {\r\n    data() {\r\n        return {\r\n            account: {\r\n                email: '',\r\n                password: '',\r\n            },\r\n            messageError: {}\r\n        }\r\n    },\r\n    // computed:{\r\n    //     ...mapState([User_load])\r\n    // }\r\n    methods: {\r\n        ...mapMutations(['setuserLoad', 'setuser']),\r\n        Login: function () {\r\n            this.messageError = {}\r\n            this.setuserLoad(true);\r\n            Request.Post('/user-login', this.account)\r\n                .then((res) => {\r\n                    this.setuserLoad(false);\r\n                    window.localStorage.setItem('K-user', res.data.token);\r\n                    this.setuser(res.data)\r\n                    this.$router.push({ name: 'User_Home' })\r\n                })\r\n                .catch((err) => {\r\n                    this.setuserLoad(false);\r\n                    if (err.response.status == 500) {\r\n                        this.status = 'Không thể kết nối đến server';\r\n                        this.loading = false;\r\n                        return\r\n                    }\r\n                    console.log(err);\r\n                    this.messageError.mes = err.response.data.message\r\n                    this.messageError.email = err.response.data.errors.email?.[0];\r\n                    this.messageError.password = err.response.data.errors.password?.[0];\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>"]}]}