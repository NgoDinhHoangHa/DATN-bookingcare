{"remainingRequest":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\manage\\pages\\TimeBook.vue?vue&type=template&id=2037dc2a&scoped=true","dependencies":[{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\manage\\pages\\TimeBook.vue","mtime":1701010342704},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\babel.config.js","mtime":1696609011972},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696609014128},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js","mtime":1696609013865},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1696609025699},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696609014128},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696609025699}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgbm9ybWFsaXplQ2xhc3MgYXMgX25vcm1hbGl6ZUNsYXNzLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHB1c2hTY29wZUlkIGFzIF9wdXNoU2NvcGVJZCwgcG9wU2NvcGVJZCBhcyBfcG9wU2NvcGVJZCB9IGZyb20gInZ1ZSI7Cgp2YXIgX3dpdGhTY29wZUlkID0gZnVuY3Rpb24gX3dpdGhTY29wZUlkKG4pIHsKICByZXR1cm4gX3B1c2hTY29wZUlkKCJkYXRhLXYtMjAzN2RjMmEiKSwgbiA9IG4oKSwgX3BvcFNjb3BlSWQoKSwgbjsKfTsKCnZhciBfaG9pc3RlZF8xID0gWyJvbkNsaWNrIl07CnZhciBfaG9pc3RlZF8yID0gWyJvbkNsaWNrIl07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF90aGlzID0gdGhpczsKCiAgdmFyIF9jb21wb25lbnRfVGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiVGFibGUiKTsKCiAgdmFyIF9jb21wb25lbnRfTW9kYWxUaW1lQm9vayA9IF9yZXNvbHZlQ29tcG9uZW50KCJNb2RhbFRpbWVCb29rIik7CgogIHZhciBfY29tcG9uZW50X0Jhc2UgPSBfcmVzb2x2ZUNvbXBvbmVudCgiQmFzZSIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9CYXNlLCB7CiAgICBvbklucHV0OiAkb3B0aW9ucy5vbklucHV0CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X1RhYmxlLCB7CiAgICAgICAgbG9hZGluZzogJGRhdGEubG9hZGluZywKICAgICAgICB0aXRsZTogJ0Rhbmggc8OhY2ggdGjhu51pIGdpYW4gxJHhurd0JywKICAgICAgICBoZWFkaW5nOiBbJ1Ro4budaSBnaWFuJ10sCiAgICAgICAgbGlzdDogJGRhdGEubGlzdCwKICAgICAgICBsZW5ndGg6ICc0JwogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KCRkYXRhLmxpc3QsIGZ1bmN0aW9uIChpdGVtLCBrZXkpIHsKICAgICAgICAgICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jaygidHIiLCB7CiAgICAgICAgICAgICAga2V5OiBpdGVtLmlkCiAgICAgICAgICAgIH0sIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoa2V5ICsgMSksIDEKICAgICAgICAgICAgLyogVEVYVCAqLwogICAgICAgICAgICApLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJ0ZCIsIG51bGwsIF90b0Rpc3BsYXlTdHJpbmcoaXRlbS50aW1lKSwgMQogICAgICAgICAgICAvKiBURVhUICovCiAgICAgICAgICAgICksIF9jcmVhdGVFbGVtZW50Vk5vZGUoInRkIiwgbnVsbCwgW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCB7CiAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gb25DbGljaygkZXZlbnQpIHsKICAgICAgICAgICAgICAgIHJldHVybiAkb3B0aW9ucy5lZGl0SXRlbShpdGVtLmlkKTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGNsYXNzOiAiYnggYngtcGVuY2lsIgogICAgICAgICAgICB9LCBudWxsLCA4CiAgICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAgICwgX2hvaXN0ZWRfMSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgidGQiLCBudWxsLCBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgic3BhbiIsIHsKICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgICAgICAgICAgcmV0dXJuICRvcHRpb25zLmRlbGV0ZUl0ZW0oaXRlbS5pZCk7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBjbGFzczogX25vcm1hbGl6ZUNsYXNzKCJieCBieC0iLmNvbmNhdCgkZGF0YS5sb2FkaW5nQ29sdW1uID09PSBpdGVtLmlkID8gJ2xvYWRlciBsb2FkaW5nJyA6ICd0cmFzaCcpKQogICAgICAgICAgICB9LCBudWxsLCAxMAogICAgICAgICAgICAvKiBDTEFTUywgUFJPUFMgKi8KICAgICAgICAgICAgLCBfaG9pc3RlZF8yKV0pXSk7CiAgICAgICAgICB9KSwgMTI4CiAgICAgICAgICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICAgICAgICAgKSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgIH0sIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbImxvYWRpbmciLCAibGlzdCJdKSwgX3RoaXMubW9kYWwuZGF0YSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X01vZGFsVGltZUJvb2ssIHsKICAgICAgICBrZXk6IDAsCiAgICAgICAgaWQ6ICRkYXRhLmlkLAogICAgICAgIGxpc3Q6ICRkYXRhLmxpc3QsCiAgICAgICAgc2V0TGlzdDogJG9wdGlvbnMuc2V0TGlzdCwKICAgICAgICByZXNldDogJG9wdGlvbnMucmVzZXQKICAgICAgfSwgbnVsbCwgOAogICAgICAvKiBQUk9QUyAqLwogICAgICAsIFsiaWQiLCAibGlzdCIsICJzZXRMaXN0IiwgInJlc2V0Il0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsib25JbnB1dCJdKTsKfQ=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;uBACIA,aAeOC,eAfP,EAeO;IAfAC,OAAO,EAAEC;EAeT,CAfP,EAAuB;sBACvB;MAAA,OAYQ,CAZRC,aAYQC,gBAZR,EAYQ;QAZAC,OAAO,EAAEC,aAYT;QAZmBC,KAAK,EAAE,yBAY1B;QAZsDC,OAAO,EAAE,aAY/D;QAZ+EC,IAAI,EAAEH,UAYrF;QAZ4FI,MAAM,EAAE;MAYpG,CAZR;0BACQ;UAAA,OAA2B,oBAA/BC,oBAUKC,SAVL,EAUK,IAVL,EAUKC,YAVqBP,UAUrB,EAVyB,UAAlBQ,IAAkB,EAAZC,GAAY,EAAT;iCAArBJ,oBAUK,IAVL,EAUK;cAV4BI,GAAG,EAAED,IAAI,CAACE;YAUtC,CAVL,GACIC,oBAAsB,IAAtB,EAAsB,IAAtB,EAAsBC,iBAAfH,GAAG,IAAY,CAAtB,EAAU;YAAA;YAAV,GACAE,oBAAwB,IAAxB,EAAwB,IAAxB,EAAwBC,iBAAjBJ,IAAI,CAACK,IAAY,CAAxB,EAAgB;YAAA;YAAhB,GACAF,oBAEK,IAFL,EAEK,IAFL,EAEK,CADDA,oBAA6D,MAA7D,EAA6D;cAAtDG,OAAK;gBAAA,OAAElB,kBAASY,IAAI,CAACE,EAAd,CAAF;cAAA,CAAiD;cAA5BK,KAAK,EAAC;YAAsB,CAA7D;;YAAA,aACC,CAFL,GAGAJ,oBAGK,IAHL,EAGK,IAHL,EAGK,CAFDA,oBACsF,MADtF,EACsF;cAD/EG,OAAK;gBAAA,OAAElB,oBAAWY,IAAI,CAACE,EAAhB,CAAF;cAAA,CAC0E;cAAjFK,KAAK,kCAAWf,wBAAkBQ,IAAI,CAACE,EAAvB,GAAyB,gBAAzB,GAAyB,OAApC;YAA4E,CADtF;;YAAA,aAEC,CAHL,EANJ;WAUK,CAVL;;UAAA,CAA+B,EAA3B;QAAA;;;;OADR;;MAAA,sBAYQ,QACkBM,MAAMC,sBAAhCxB,aAA8GyB,wBAA9G,EAA8G;cAAA;QAAvER,EAAE,EAAEV,QAAmE;QAA9DG,IAAI,EAAEH,UAAwD;QAAjDmB,OAAO,EAAEvB,gBAAwC;QAA9BwB,KAAK,EAAExB;MAAuB,CAA9G;;MAAA,0EADQ,CAZR;IAAA,EADuB;;;;EAAA,CAAvB;;EAAA","names":["_createBlock","_component_Base","onInput","$options","_createVNode","_component_Table","loading","$data","title","heading","list","length","_createElementBlock","_Fragment","_renderList","item","key","id","_createElementVNode","_toDisplayString","time","onClick","class","modal","data","_component_ModalTimeBook","setList","reset"],"sourceRoot":"","sources":["C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\manage\\pages\\TimeBook.vue"],"sourcesContent":["<template>\r\n    <Base :onInput=\"onInput\">\r\n    <Table :loading=\"loading\" :title=\"'Danh sách thời gian đặt'\" :heading=\"['Thời gian']\" :list=\"list\" :length=\"'4'\">\r\n        <tr v-for=\"(item, key) in list\" :key=\"item.id\">\r\n            <td>{{ key + 1 }}</td>\r\n            <td>{{ item.time }}</td>\r\n            <td>\r\n                <span @click=\"editItem(item.id)\" class=\"bx bx-pencil\"></span>\r\n            </td>\r\n            <td>\r\n                <span @click=\"deleteItem(item.id)\"\r\n                    :class=\"`bx bx-${loadingColumn === item.id ? 'loader loading' : 'trash'}`\"></span>\r\n            </td>\r\n        </tr>\r\n    </Table>\r\n    <ModalTimeBook v-if=\"this.modal.data\" :id=\"id\" :list=\"list\" :setList=\"setList\" :reset=\"reset\"></ModalTimeBook>\r\n    </Base>\r\n</template>\r\n<script>\r\nimport Base from \"./Base.vue\";\r\nimport Table from \"../Table.vue\";\r\nimport Request from \"../../../Request\";\r\nimport ModalTimeBook from \"../modal/ModalTimeBook.vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nexport default {\r\n    components: {\r\n        Base,\r\n        Table,\r\n        ModalTimeBook\r\n    },\r\n    computed: {\r\n        ...mapState(['modal'])\r\n    },\r\n    data() {\r\n        return {\r\n            id: null,\r\n            loading: true,\r\n            list: [],\r\n            loadingColumn: -1,\r\n            timeOut: null,\r\n            counter: 0\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations(['setModal']),\r\n        reset: function () {\r\n            this.id = null;\r\n            this.data = null;\r\n        },\r\n        onInput: function (event) {\r\n            this.loading = true;\r\n            this.counter += 1;\r\n            clearTimeout(this.timeOut);\r\n            this.timeOut = setTimeout(async () => {\r\n                try {\r\n                    const result = await Request.Post(`/timebook-search`, {\r\n                        value: event.target.value\r\n                    });\r\n                    this.list = result.data.data;\r\n                    this.loading = false;\r\n                } catch (error) {\r\n                    alert(error);\r\n                }\r\n            }, 300);\r\n        },\r\n        setList: function (item) {\r\n            const index = [...this.list].findIndex(dt => dt.id === item.id);\r\n            if (index === -1) {\r\n                this.list = [...this.list, item]\r\n            }\r\n            else {\r\n                let clone = [...this.list];\r\n                clone[index] = item;\r\n                this.list = clone;\r\n            }\r\n        },\r\n        editItem: function (id) {\r\n            this.id = id;\r\n            this.setModal({ ...this.modal, data: true })\r\n        },\r\n        deleteItem: async function (id) {\r\n            try {\r\n                this.loadingColumn = id;\r\n                const result = await Request.Delete(`/timebooks/${id}`);\r\n                if (result.data.status) {\r\n                    this.list = [...this.list].filter(dt => dt.id !== id);\r\n                }\r\n                this.loadingColumn = -1;\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        (async () => {\r\n            try {\r\n                const result = await Request.Get('/timebooks');\r\n                this.list = result.data.data;\r\n                this.loading = false;\r\n            } catch (error) {\r\n                alert(error)\r\n            }\r\n        })()\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n    table{\r\n        border-collapse: collapse;\r\n        width: 100%;\r\n        color: #333;\r\n        font-family: Arial, sans-serif;\r\n        font-size: 14px;\r\n        text-align: left;\r\n        border-radius: 10px;\r\n        overflow: hidden;\r\n        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\r\n        margin: auto;\r\n        margin-top: 50px;\r\n        margin-bottom: 50px;\r\n    }\r\n    table th {\r\n        background-color: #C6E2FF;\r\n        color: #fff;\r\n        font-weight: bold;\r\n        padding: 10px;\r\n        text-transform: uppercase;\r\n        letter-spacing: 1px;\r\n        border-top: 1px solid #fff;\r\n        border-bottom: 1px solid #ccc;\r\n    }\r\n    table tr:nth-child(even) td {\r\n        background-color: #f2f2f2;\r\n    } \r\n    table tr:hover td {\r\n    background-color: #E8E8E8;\r\n    }\r\n    table td {\r\n        background-color: #fff;\r\n        padding: 10px;\r\n        border-bottom: 1px solid #ccc;\r\n        font-weight: 500;\r\n    }\r\n</style>\r\n"]}]}