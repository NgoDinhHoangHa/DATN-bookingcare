{"remainingRequest":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\manage\\pages\\Schedule.vue?vue&type=template&id=ad7d6ea8&scoped=true","dependencies":[{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\manage\\pages\\Schedule.vue","mtime":1705395852685},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696609014128},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js","mtime":1696609013865},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1696609025699},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696609014128},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696609025699}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPEJhc2UgOm9uSW5wdXQ9Im9uSW5wdXQiPg0KICAgIDxUYWJsZSA6bG9hZGluZz0ibG9hZGluZyIgOnRpdGxlPSInRGFuaCBzw6FjaCDEkcSDbmcga8O9IG5naOG7iSciIDpsaXN0PSJsaXN0IiA6bGVuZ3RoPSInOCciDQogICAgICAgIDpoZWFkaW5nPSJbJ+G6om5oIMSR4bqhaSBkaeG7h24nLCAnQ2h1ecOqbiBraG9hJywgJ0jhu40gdMOqbicsICdOZ8OgeSDEkcSDbmcga8O9IG5naOG7iScsICdEdXnhu4d0J10iIDpoaWRlQ3J1ZD0idHJ1ZSI+DQogICAgICAgIDx0ciB2LWZvcj0iKGl0ZW0sIGtleSkgaW4gbGlzdCIgOmtleT0iaXRlbS5pZCI+DQogICAgICAgICAgICA8dGQ+e3sga2V5ICsgMSB9fTwvdGQ+DQogICAgICAgICAgICA8dGQ+PGltZyA6c3JjPSJ1cmxJbWFnZSArIGl0ZW0uYXZhdGFyIiBzdHlsZT0iYm9yZGVyLXJhZGl1czoxMDByZW07d2lkdGg6IDZyZW07aGVpZ2h0OjZyZW07b2JqZWN0LWZpdDogY292ZXI7Ig0KICAgICAgICAgICAgICAgICAgICBhbHQ9IiIgc3Jjc2V0PSIiPg0KICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgIDx0ZD57eyBpdGVtLm5hbWVzcGVjaWNhbCB9fTwvdGQ+DQogICAgICAgICAgICA8dGQ+e3sgaXRlbS5uYW1lIH19PC90ZD4NCiAgICAgICAgICAgIDx0ZD4NCiAgICAgICAgICAgICAgICA8dGVtcGxhdGUgdi1pZj0iaXRlbS5kYXRlcy5sZW5ndGggPiAwIj4NCiAgICAgICAgICAgICAgICAgICAgPHAgdi1mb3I9Iml0ZW1DaGlsZCBpbiBpdGVtLmRhdGVzIiA6a2V5PSJpdGVtQ2hpbGQuaWQiPnt7IGl0ZW1DaGlsZC5uYW1lIH19PC9wPg0KICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+DQogICAgICAgICAgICAgICAgPHRlbXBsYXRlIHYtZWxzZT4NCiAgICAgICAgICAgICAgICAgICAgPHA+Tm8gZGF0ZXMgYXZhaWxhYmxlPC9wPg0KICAgICAgICAgICAgICAgIDwvdGVtcGxhdGU+DQogICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgPHRkPg0KICAgICAgICAgICAgICAgIDxzcGFuIEBjbGljaz0iYWNjZXB0SXRlbShpdGVtLmRhdGVzKSINCiAgICAgICAgICAgICAgICAgICAgOmNsYXNzPSJgYnggYngtJHtsb2FkaW5nQ29sdW1uID09PSBpdGVtLmlkID8gJ2xvYWRlciBsb2FkaW5nJyA6ICdjaGVjayd9YCI+PC9zcGFuPg0KICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgPC90cj4NCiAgICA8L1RhYmxlPg0KICAgIDxNb2RhbERvY3RvciB2LWlmPSJtb2RhbC5kYXRhIiA6cmVzZXQ9InJlc2V0IiA6aWQ9ImlkIiA6c2V0TGlzdD0ic2V0TGlzdCIgOmxpc3Q9Imxpc3QiPjwvTW9kYWxEb2N0b3I+DQogICAgPC9CYXNlPg0K"},{"version":3,"sources":["C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\manage\\pages\\Schedule.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC1C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,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AC,CAAC,CAAC,CAAC,CAAC;YACzF,CAAC,CAAC,CAAC,CAAC;QACR,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/OS/OneDrive - University of Technology and Education/Desktop/DATN-bookingcare/web_hospitall/src/components/manage/pages/Schedule.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <Base :onInput=\"onInput\">\r\n    <Table :loading=\"loading\" :title=\"'Danh sách đăng ký nghỉ'\" :list=\"list\" :length=\"'8'\"\r\n        :heading=\"['Ảnh đại diện', 'Chuyên khoa', 'Họ tên', 'Ngày đăng ký nghỉ', 'Duyệt']\" :hideCrud=\"true\">\r\n        <tr v-for=\"(item, key) in list\" :key=\"item.id\">\r\n            <td>{{ key + 1 }}</td>\r\n            <td><img :src=\"urlImage + item.avatar\" style=\"border-radius:100rem;width: 6rem;height:6rem;object-fit: cover;\"\r\n                    alt=\"\" srcset=\"\">\r\n            </td>\r\n            <td>{{ item.namespecical }}</td>\r\n            <td>{{ item.name }}</td>\r\n            <td>\r\n                <template v-if=\"item.dates.length > 0\">\r\n                    <p v-for=\"itemChild in item.dates\" :key=\"itemChild.id\">{{ itemChild.name }}</p>\r\n                </template>\r\n                <template v-else>\r\n                    <p>No dates available</p>\r\n                </template>\r\n            </td>\r\n            <td>\r\n                <span @click=\"acceptItem(item.dates)\"\r\n                    :class=\"`bx bx-${loadingColumn === item.id ? 'loader loading' : 'check'}`\"></span>\r\n            </td>\r\n        </tr>\r\n    </Table>\r\n    <ModalDoctor v-if=\"modal.data\" :reset=\"reset\" :id=\"id\" :setList=\"setList\" :list=\"list\"></ModalDoctor>\r\n    </Base>\r\n</template>\r\n<script>\r\nimport Base from \"./Base.vue\";\r\nimport Table from \"../Table.vue\";\r\nimport Request from \"../../../Request\";\r\nimport ModalDoctor from \"../modal/ModalDoctor.vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport { URL_IMAGE } from \"../../../Config\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            list: [],\r\n            loading: true,\r\n            id: null,\r\n            urlImage: URL_IMAGE,\r\n            loadingColumn: -1,\r\n            timeOut: null,\r\n            counter: 0\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations(['setModal']),\r\n        reset: function () {\r\n            this.id = null;\r\n            this.data = null;\r\n        },\r\n        setList: function (item) {\r\n            const filteredList = this.list.filter(dt => dt.dates.length > 0);\r\n            const index = filteredList.findIndex(dt => dt.idadmin === item.idadmin);\r\n            if (index === -1) {\r\n                this.list = [...this.list, item];\r\n            } else {\r\n                let clone = [...this.list];\r\n                clone[index] = item;\r\n                this.list = clone;\r\n            }\r\n        },\r\n\r\n        acceptItem: async function (dates) {\r\n            try {\r\n                for (let index = 0; index < dates.length; index++) {\r\n                    await Request.Put('/timedoctors', { ...dates[index], status: 2 });\r\n                }\r\n                this.fetchData();\r\n                this.loadingColumn = -1;\r\n            } catch (error) {\r\n                alert(error);\r\n            }\r\n        },\r\n        fetchData: async function () {\r\n            try {\r\n                const result = await Request.Get(\"/doctor-admin\");\r\n                const transformedList = result.data.data.flatMap((item) => {\r\n                    return item.dates.map((date) => ({\r\n                        avatar: item.avatar,\r\n                        namespecical: item.namespecical,\r\n                        name: item.name,\r\n                        dates: [date],\r\n                    }));\r\n                });\r\n                this.list = transformedList;\r\n                this.loading = false;\r\n            } catch (error) {\r\n                alert(error);\r\n            }\r\n        },\r\n    },\r\n    computed: {\r\n        ...mapState(['modal'])\r\n    },\r\n    components: {\r\n        Base,\r\n        Table,\r\n        ModalDoctor\r\n    },\r\n    mounted() {\r\n        (async () => {\r\n            try {\r\n                const result = await Request.Get('/doctor-admin');\r\n                const transformedList = result.data.data.flatMap(item => {\r\n                    return item.dates.map(date => ({\r\n                        avatar: item.avatar,\r\n                        namespecical: item.namespecical,\r\n                        name: item.name,\r\n                        dates: [date],\r\n                    }));\r\n                });\r\n                this.list = transformedList;\r\n                this.loading = false;\r\n            } catch (error) {\r\n                alert(error);\r\n            }\r\n        })();\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\ntable {\r\n    border-collapse: collapse;\r\n    width: 100%;\r\n    color: #333;\r\n    font-family: Arial, sans-serif;\r\n    font-size: 14px;\r\n    text-align: left;\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\r\n    margin: auto;\r\n    margin-top: 50px;\r\n    margin-bottom: 50px;\r\n}\r\n\r\ntable th {\r\n    background-color: #ff9800;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    padding: 10px;\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    border-top: 1px solid #fff;\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n\r\ntable tr:nth-child(even) td {\r\n    background-color: #f2f2f2;\r\n}\r\n\r\ntable tr:hover td {\r\n    background-color: #E8E8E8;\r\n}\r\n\r\ntable td {\r\n    background-color: #fff;\r\n    padding: 10px;\r\n    border-bottom: 1px solid #ccc;\r\n    font-weight: 500;\r\n}\r\n</style>"]}]}