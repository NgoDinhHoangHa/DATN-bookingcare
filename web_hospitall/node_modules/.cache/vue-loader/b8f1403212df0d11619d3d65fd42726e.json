{"remainingRequest":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\hospital\\hospital_manager\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\hospital\\hospital_manager\\web_hospitall\\src\\components\\ChatPopupContent.vue?vue&type=template&id=07565956","dependencies":[{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\hospital\\hospital_manager\\web_hospitall\\src\\components\\ChatPopupContent.vue","mtime":1696609026800},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\hospital\\hospital_manager\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696609014128},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\hospital\\hospital_manager\\web_hospitall\\node_modules\\babel-loader\\lib\\index.js","mtime":1696609013865},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\hospital\\hospital_manager\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1696609025699},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\hospital\\hospital_manager\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696609014128},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\hospital\\hospital_manager\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696609025699}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgPGRpdiBjbGFzcz0iY2hhdF9fcmlnaHQtLWNvbnRlbnQtLWNvbnRlbnQiIHJlZj0iY29udGFpbmVyTWVzc2FnZSI+DQogICAgICAgIDxkaXYgdi1pZj0ibWVzc2FnZXM/Lmxlbmd0aCI+DQogICAgICAgICAgICA8ZGl2IHYtZm9yPSJtZXNzYWdlIGluIG1lc3NhZ2VzIiA6a2V5PSJtZXNzYWdlLmlkIj4NCiAgICAgICAgICAgICAgICA8ZGl2IHYtaWY9Im1lc3NhZ2UuaXNfdXNlciA9PSBpZCIgY2xhc3M9Im1lc3NhZ2VfX2l0ZW0gZmxleC1zdGFydCI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2VfX2l0ZW0tLWltYWdlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgOnNyYz0idXJsSW1hZ2UgKyAobWVzc2FnZS5pc191c2VyID09IGlkID8gJ3VzZXItdmVjdG9yLmpwZWcnIDogJ2RvY3Rvci12ZWN0b3Iud2VicCcpIg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD0iIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2VfX2l0ZW0tLWNvbnRlbnQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3sgbWVzc2FnZS5jb250ZW50X2NoYXQgfX08L3A+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBtb21lbnQobWVzc2FnZS5jcmVhdGVkX2F0X21haW4pLmZyb21Ob3coKSB9fQ0KICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IHYtZWxzZSBjbGFzcz0ibWVzc2FnZV9faXRlbSBmbGV4LWVuZCI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2VfX2l0ZW0tLWNvbnRlbnQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHA+e3sgbWVzc2FnZS5jb250ZW50X2NoYXQgfX08L3A+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBtb21lbnQobWVzc2FnZS5jcmVhdGVkX2F0X21haW4pLmZyb21Ob3coKSB9fQ0KICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiB2LWVsc2UgY2xhc3M9ImxvYWRpbmdfX2NvbnRlbnQiDQogICAgICAgICAgICBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyO3BhZGRpbmc6MHJlbSAycmVtO2ZvbnQtc2l6ZTogMS4zcmVtO2ZvbnQtd2VpZ2h0OiA2MDA7Ij4NCiAgICAgICAgICAgIELDonkgZ2nhu50gYuG6oW4gY8OzIHRo4buDIHRyw7IgY2h1eeG7h24gduG7m2kgYsOhYyBzxKkNCiAgICAgICAgPC9kaXY+DQogICAgPC9kaXY+DQogICAgPGRpdiBjbGFzcz0iY2hhdF9fcmlnaHQtLWNvbnRlbnQtLWNvbnRyb2wiPg0KICAgICAgICA8aW5wdXQgdi1pZj0ibG9hZGluZyIgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9IlNlYXJjaCIgOnZhbHVlPSJjb250ZW50IiBkaXNhYmxlZD4NCiAgICAgICAgPGlucHV0IHYtZWxzZSB0eXBlPSJ0ZXh0IiBAa2V5ZG93bj0iaGFuZGxlSW5wdXRTZW5kTWVzc2FnZSgkZXZlbnQpIiBAaW5wdXQ9Im9uSW5wdXQoJGV2ZW50KSIgOnZhbHVlPSJjb250ZW50Ig0KICAgICAgICAgICAgcGxhY2Vob2xkZXI9IlNlYXJjaCI+DQogICAgICAgIDxzcGFuIHYtaWY9ImNvbnRlbnQubGVuZ3RoICE9PSAwIiBAY2xpY2s9ImhhbmRsZVNlbmRNZXNzYWdlIg0KICAgICAgICAgICAgOmNsYXNzPSJsb2FkaW5nID8gJ2J4IGJ4LWxvYWRlciBsb2FkaW5nJyA6ICdieCBieC1zZW5kJyI+PC9zcGFuPg0KICAgICAgICA8c3BhbiB2LWVsc2UgY2xhc3M9ImJ4IGJ4LXNlbmQgZGlzYWJsZWQiPjwvc3Bhbj4NCiAgICA8L2Rpdj4NCg=="},{"version":3,"sources":["C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\hospital\\hospital_manager\\web_hospitall\\src\\components\\ChatPopupContent.vue"],"names":[],"mappings":";IACI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC9C,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;oBAC9D,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC7B,CAAC,CAAC,CAAC,E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C,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YAChF,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC;QAC3C,CAAC,CAAC,CAAC,CAAC,CAAC;IACT,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACtC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAChF,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnD,CAAC,CAAC,CAAC,CAAC,CAAC","file":"C:/Users/OS/OneDrive - University of Technology and Education/Desktop/hospital/hospital_manager/web_hospitall/src/components/ChatPopupContent.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <div class=\"chat__right--content--content\" ref=\"containerMessage\">\r\n        <div v-if=\"messages?.length\">\r\n            <div v-for=\"message in messages\" :key=\"message.id\">\r\n                <div v-if=\"message.is_user == id\" class=\"message__item flex-start\">\r\n                    <div class=\"message__item--image\">\r\n                        <img :src=\"urlImage + (message.is_user == id ? 'user-vector.jpeg' : 'doctor-vector.webp')\"\r\n                            alt=\"\">\r\n                        <span></span>\r\n                    </div>\r\n                    <div class=\"message__item--content\">\r\n                        <p>{{ message.content_chat }}</p>\r\n                        <span>\r\n                            {{ moment(message.created_at_main).fromNow() }}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div v-else class=\"message__item flex-end\">\r\n                    <div class=\"message__item--content\">\r\n                        <p>{{ message.content_chat }}</p>\r\n                        <span>\r\n                            {{ moment(message.created_at_main).fromNow() }}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-else class=\"loading__content\"\r\n            style=\"text-align: center;padding:0rem 2rem;font-size: 1.3rem;font-weight: 600;\">\r\n            Bây giờ bạn có thể trò chuyện với bác sĩ\r\n        </div>\r\n    </div>\r\n    <div class=\"chat__right--content--control\">\r\n        <input v-if=\"loading\" type=\"text\" placeholder=\"Search\" :value=\"content\" disabled>\r\n        <input v-else type=\"text\" @keydown=\"handleInputSendMessage($event)\" @input=\"onInput($event)\" :value=\"content\"\r\n            placeholder=\"Search\">\r\n        <span v-if=\"content.length !== 0\" @click=\"handleSendMessage\"\r\n            :class=\"loading ? 'bx bx-loader loading' : 'bx bx-send'\"></span>\r\n        <span v-else class=\"bx bx-send disabled\"></span>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport moment from 'moment';\r\nimport { URL_IMAGE } from '../Config';\r\n\r\nmoment.locale(\"VI\");\r\n\r\nexport default {\r\n    props: ['messages', 'sendMessage', 'idadmin', 'id', 'doctor', 'setMessage', 'groupChat', '_id'],\r\n    data() {\r\n        return {\r\n            loading: false,\r\n            content: '',\r\n            moment: moment,\r\n            urlImage: URL_IMAGE\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapState(['socket'])\r\n    },\r\n    methods: {\r\n        handleInputSendMessage: function (event) {\r\n            if (event.keyCode === 13) {\r\n                this.handleSendMessage();\r\n            }\r\n        },\r\n        handleSendMessage: function () {\r\n            if (this.content.length !== 0) {\r\n                this.loading = true;\r\n                this.sendMessage({ content_chat: this.content, idadmin: this.id });\r\n                this.loading = false;\r\n                this.content = '';\r\n            }\r\n        },\r\n        onInput: function (event) {\r\n            this.content = event.target.value\r\n        },\r\n        updateFormatTime: function (d) {\r\n            const checkNumber = (number) => number < 10 ? `0${number}` : number;\r\n            return checkNumber(d.getDate()) + \"-\" + checkNumber((d.getMonth() + 1)) + \"-\" + d.getFullYear() + \" \" +\r\n                checkNumber(d.getHours()) + \":\" + checkNumber(d.getMinutes())\r\n        },\r\n        socketOn: function () {\r\n            try {\r\n                this.socket.on(`_chatMessage.${this.groupChat?.id}.${this._id}`, (data) => {\r\n                    console.log('nhan roi ne');\r\n                    this.setMessage(data);\r\n                })\r\n            } catch (error) {\r\n                alert(error);\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        groupChat: function () {\r\n            this.socketOn();\r\n        },\r\n        _id: function () {\r\n            this.socketOn();\r\n        },\r\n        messages: {\r\n            handler() {\r\n                if (this.$refs.containerMessage) {\r\n                    console.log(this.$refs.containerMessage.scrollHeight);\r\n                    this.$refs.containerMessage.scrollTop = this.$refs.containerMessage.scrollHeight;\r\n                }\r\n            },\r\n            immediate: true\r\n        }\r\n    },\r\n    mounted() {\r\n        this.socketOn();\r\n        if (this.$refs.containerMessage) {\r\n            console.log(this.$refs.containerMessage.scrollHeight);\r\n            this.$refs.containerMessage.scrollTop = this.$refs.containerMessage.scrollHeight;\r\n        }\r\n    }\r\n}\r\n</script>"]}]}