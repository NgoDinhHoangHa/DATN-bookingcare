{"remainingRequest":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\manage\\pages\\Schedule.vue?vue&type=style&index=0&id=ad7d6ea8&scoped=true&lang=css","dependencies":[{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\manage\\pages\\Schedule.vue","mtime":1705989992596},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\css-loader\\dist\\cjs.js","mtime":1696609016209},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1696609025699},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\postcss-loader\\src\\index.js","mtime":1696609020690},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696609014128},{"path":"C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1696609025699}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQp0YWJsZSB7DQogICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBjb2xvcjogIzMzMzsNCiAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7DQogICAgZm9udC1zaXplOiAxNHB4Ow0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIGJveC1zaGFkb3c6IDAgMCAyMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTsNCiAgICBtYXJnaW46IGF1dG87DQogICAgbWFyZ2luLXRvcDogNTBweDsNCiAgICBtYXJnaW4tYm90dG9tOiA1MHB4Ow0KfQ0KDQp0YWJsZSB0aCB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmOTgwMDsNCiAgICBjb2xvcjogI2ZmZjsNCiAgICBmb250LXdlaWdodDogYm9sZDsNCiAgICBwYWRkaW5nOiAxMHB4Ow0KICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogICAgbGV0dGVyLXNwYWNpbmc6IDFweDsNCiAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2ZmZjsNCiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYzsNCn0NCg0KdGFibGUgdHI6bnRoLWNoaWxkKGV2ZW4pIHRkIHsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyOw0KfQ0KDQp0YWJsZSB0cjpob3ZlciB0ZCB7DQogICAgYmFja2dyb3VuZC1jb2xvcjogI0U4RThFODsNCn0NCg0KdGFibGUgdGQgew0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogICAgcGFkZGluZzogMTBweDsNCiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2NjYzsNCiAgICBmb250LXdlaWdodDogNTAwOw0KfQ0K"},{"version":3,"sources":["C:\\Users\\OS\\OneDrive - University of Technology and Education\\Desktop\\DATN-bookingcare\\web_hospitall\\src\\components\\manage\\pages\\Schedule.vue"],"names":[],"mappings":";AA8IA,CAAC,CAAC,CAAC,CAAC,EAAE;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACvB;;AAEA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjC;;AAEA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B;;AAEA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7B;;AAEA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpB","file":"C:/Users/OS/OneDrive - University of Technology and Education/Desktop/DATN-bookingcare/web_hospitall/src/components/manage/pages/Schedule.vue","sourceRoot":"","sourcesContent":["<template>\r\n    <Base :onInput=\"onInput\">\r\n    <Table :loading=\"loading\" :title=\"'Danh sách đăng ký nghỉ'\" :list=\"list\" :length=\"'8'\"\r\n        :heading=\"['Ảnh đại diện', 'Chuyên khoa', 'Họ tên', 'Ngày đăng ký nghỉ', 'Duyệt', 'Từ chối']\" :hideCrud=\"true\">\r\n        <tr v-for=\"(item, key) in list\" :key=\"item.id\">\r\n            <td>{{ key + 1 }}</td>\r\n            <td><img :src=\"urlImage + item.avatar\" style=\"border-radius:100rem;width: 6rem;height:6rem;object-fit: cover;\"\r\n                    alt=\"\" srcset=\"\">\r\n            </td>\r\n            <td>{{ item.namespecical }}</td>\r\n            <td>{{ item.name }}</td>\r\n            <td>\r\n                <template v-if=\"item.dates.length > 0\">\r\n                    <p v-for=\"itemChild in item.dates\" :key=\"itemChild.id\">{{ itemChild.name }}</p>\r\n                </template>\r\n                <template v-else>\r\n                    <p>No dates available</p>\r\n                </template>\r\n            </td>\r\n            <td>\r\n                <span @click=\"acceptItem(item.dates)\"\r\n                    :class=\"`bx bx-${loadingColumn === item.id ? 'loader loading' : 'check'}`\"\r\n                    style=\"font-size: 2em;\"></span>\r\n            </td>\r\n            <td>\r\n                <span @click=\"refuseItem(item.dates)\"\r\n                    :class=\"`bx bx-${loadingColumn === item.id ? 'loader loading' : 'x'}`\" style=\"font-size: 2em;\"></span>\r\n            </td>\r\n        </tr>\r\n    </Table>\r\n    <ModalDoctor v-if=\"modal.data\" :reset=\"reset\" :id=\"id\" :setList=\"setList\" :list=\"list\"></ModalDoctor>\r\n    </Base>\r\n</template>\r\n<script>\r\nimport Base from \"./Base.vue\";\r\nimport Table from \"../Table.vue\";\r\nimport Request from \"../../../Request\";\r\nimport ModalDoctor from \"../modal/ModalDoctor.vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nimport { URL_IMAGE } from \"../../../Config\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            list: [],\r\n            loading: true,\r\n            id: null,\r\n            urlImage: URL_IMAGE,\r\n            loadingColumn: -1,\r\n            timeOut: null,\r\n            counter: 0\r\n        }\r\n    },\r\n    methods: {\r\n        ...mapMutations(['setModal']),\r\n        reset: function () {\r\n            this.id = null;\r\n            this.data = null;\r\n        },\r\n        setList: function (item) {\r\n            const filteredList = this.list.filter(dt => dt.dates.length > 0);\r\n            const index = filteredList.findIndex(dt => dt.idadmin === item.idadmin);\r\n            if (index === -1) {\r\n                this.list = [...this.list, item];\r\n            } else {\r\n                let clone = [...this.list];\r\n                clone[index] = item;\r\n                this.list = clone;\r\n            }\r\n        },\r\n\r\n        acceptItem: async function (dates) {\r\n            try {\r\n                for (let index = 0; index < dates.length; index++) {\r\n                    await Request.Put('/timedoctors', { ...dates[index], status: 2 });\r\n                }\r\n                this.fetchData();\r\n                this.loadingColumn = -1;\r\n            } catch (error) {\r\n                alert(error);\r\n            }\r\n        },\r\n\r\n        refuseItem: async function (dates) {\r\n            try {\r\n                for (let index = 0; index < dates.length; index++) {\r\n                    await Request.Put('/timedoctors', { ...dates[index], status: 0 });\r\n                }\r\n                this.fetchData();\r\n                this.loadingColumn = -1;\r\n            } catch (error) {\r\n                alert(error);\r\n            }\r\n        },\r\n\r\n        fetchData: async function () {\r\n            try {\r\n                const result = await Request.Get(\"/doctor-admin\");\r\n                const transformedList = result.data.data.flatMap((item) => {\r\n                    return item.dates.map((date) => ({\r\n                        avatar: item.avatar,\r\n                        namespecical: item.namespecical,\r\n                        name: item.name,\r\n                        dates: [date],\r\n                    }));\r\n                });\r\n                this.list = transformedList;\r\n                this.loading = false;\r\n            } catch (error) {\r\n                alert(error);\r\n            }\r\n        },\r\n    },\r\n    computed: {\r\n        ...mapState(['modal'])\r\n    },\r\n    components: {\r\n        Base,\r\n        Table,\r\n        ModalDoctor\r\n    },\r\n    mounted() {\r\n        (async () => {\r\n            try {\r\n                const result = await Request.Get('/doctor-admin');\r\n                const transformedList = result.data.data.flatMap(item => {\r\n                    return item.dates.map(date => ({\r\n                        avatar: item.avatar,\r\n                        namespecical: item.namespecical,\r\n                        name: item.name,\r\n                        dates: [date],\r\n                    }));\r\n                });\r\n                this.list = transformedList;\r\n                this.loading = false;\r\n            } catch (error) {\r\n                alert(error);\r\n            }\r\n        })();\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\ntable {\r\n    border-collapse: collapse;\r\n    width: 100%;\r\n    color: #333;\r\n    font-family: Arial, sans-serif;\r\n    font-size: 14px;\r\n    text-align: left;\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);\r\n    margin: auto;\r\n    margin-top: 50px;\r\n    margin-bottom: 50px;\r\n}\r\n\r\ntable th {\r\n    background-color: #ff9800;\r\n    color: #fff;\r\n    font-weight: bold;\r\n    padding: 10px;\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    border-top: 1px solid #fff;\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n\r\ntable tr:nth-child(even) td {\r\n    background-color: #f2f2f2;\r\n}\r\n\r\ntable tr:hover td {\r\n    background-color: #E8E8E8;\r\n}\r\n\r\ntable td {\r\n    background-color: #fff;\r\n    padding: 10px;\r\n    border-bottom: 1px solid #ccc;\r\n    font-weight: 500;\r\n}\r\n</style>"]}]}